# ============================================================================
# SMTP Server Configuration
# ============================================================================

# Non-TLS port (always active, regardless of SSL settings)
# Common values: 25 (standard, requires root), 2525 (no privileges needed)
SMTP_PORT=2525

# STARTTLS port (only active when SMTP_SSL_ENABLED=true)
# Recommended for modern email clients - starts plain then upgrades to TLS
SMTP_STARTTLS_PORT=587

# SMTPS port (only active when SMTP_SSL_ENABLED=true)
# Implicit TLS from connection start
SMTP_SSL_PORT=465

# Domain name used in SMTP greeting and hostname
# Should match your server's domain name for proper email delivery
DOMAIN_NAME=tempmail.local

# Reject emails that are not addressed to the defined DOMAIN_NAME
# When true, only emails to @DOMAIN_NAME will be accepted
# When false, all emails will be accepted regardless of recipient domain
REJECT_NON_DOMAIN_EMAILS=false

# ============================================================================
# SMTP SSL/TLS Configuration (Let's Encrypt)
# ============================================================================

# Enable SSL/TLS for SMTP using Let's Encrypt certificates
# When true, server listens on three ports: SMTP_PORT, SMTP_STARTTLS_PORT, SMTP_SSL_PORT
# When false, server listens only on SMTP_PORT (non-TLS)
SMTP_SSL_ENABLED=false

# Path to SSL certificate file (fullchain.pem)
# Required when SMTP_SSL_ENABLED=true
# Common location: /etc/letsencrypt/live/yourdomain.com/fullchain.pem
#SMTP_SSL_CERT_PATH=/etc/letsencrypt/live/mail.yourdomain.com/fullchain.pem

# Path to SSL private key file (privkey.pem)
# Required when SMTP_SSL_ENABLED=true
# Ensure this file has restrictive permissions (600)
# Common location: /etc/letsencrypt/live/yourdomain.com/privkey.pem
#SMTP_SSL_KEY_PATH=/etc/letsencrypt/live/mail.yourdomain.com/privkey.pem

# ============================================================================
# API/Web Server Configuration
# ============================================================================

# Port for the HTTP API and web interface
# Note: Runs HTTP only - use a reverse proxy (nginx, caddy) for HTTPS
API_PORT=3000

# ============================================================================
# Database Configuration
# ============================================================================

# Database connection string
# Format: sqlite:path/to/database.db
# Can be relative (sqlite:emails.db) or absolute path (sqlite:/var/lib/dynip-email/emails.db)
DATABASE_URL=sqlite:emails.db

# ============================================================================
# Email Management
# ============================================================================

# Automatically delete emails older than this many hours
# If not set, emails are never auto-deleted
# Example: 24 (delete after 1 day), 72 (delete after 3 days)
#EMAIL_RETENTION_HOURS=24

# ============================================================================
# Logging Configuration
# ============================================================================

# Application log level
# Values: error, warn, info, debug, trace
# Recommended: info (production), debug (development)
# Can also set per-module: info,dynip_email::smtp=debug
RUST_LOG=info

# ============================================================================
# Example Configurations
# ============================================================================

# Development (Local Testing):
# - SMTP_PORT=2525
# - API_PORT=3000
# - SMTP_SSL_ENABLED=false
# - DOMAIN_NAME=localhost
# - RUST_LOG=debug

# Production (No SSL):
# - SMTP_PORT=2525
# - API_PORT=3000
# - DATABASE_URL=sqlite:/var/lib/dynip-email/emails.db
# - DOMAIN_NAME=mail.yourdomain.com
# - EMAIL_RETENTION_HOURS=48
# - RUST_LOG=info

# Production (With Let's Encrypt SSL):
# - SMTP_PORT=25
# - SMTP_STARTTLS_PORT=587
# - SMTP_SSL_PORT=465
# - SMTP_SSL_ENABLED=true
# - SMTP_SSL_CERT_PATH=/etc/letsencrypt/live/mail.yourdomain.com/fullchain.pem
# - SMTP_SSL_KEY_PATH=/etc/letsencrypt/live/mail.yourdomain.com/privkey.pem
# - DOMAIN_NAME=mail.yourdomain.com
# - DATABASE_URL=sqlite:/var/lib/dynip-email/emails.db
# - EMAIL_RETENTION_HOURS=72
# - RUST_LOG=info

